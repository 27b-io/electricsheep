{% extends "base.html" %}

{% block title %}{{ page.title }} · {{ config.title }}{% endblock %}
{% block description %}{{ page.description | default(value=config.description) }}{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_title %}{{ page.title }}{% endblock %}
{% block og_description %}{{ page.description | default(value=config.description) }}{% endblock %}
{% block og_url %}{{ page.permalink }}{% endblock %}

{% block content %}
<article>
  <div class="post-header">
    <h1>{{ page.title }}</h1>
    {% if page.description %}
    <p class="post-lede">{{ page.description }}</p>
    {% endif %}
    <div class="post-meta">
      {{ page.date | date(format="%Y-%m-%d") }}
      · {{ page.reading_time }} min read
      {% if page.taxonomies.tags %}
      · {% for tag in page.taxonomies.tags %}{{ tag }}{% if not loop.last %}, {% endif %}{% endfor %}
      {% endif %}
    </div>
  </div>
  <div class="prose">
    {{ page.content | safe }}
  </div>
</article>

{% if page.earlier or page.later %}
<nav class="post-nav">
  {% if page.later %}
  <a class="post-nav-link post-nav-newer" href="{{ page.later.permalink }}">
    <span class="post-nav-label">Next dream</span>
    <span class="post-nav-title">{{ page.later.title }}</span>
  </a>
  {% else %}
  <span class="post-nav-link"></span>
  {% endif %}

  {% if page.earlier %}
  <a class="post-nav-link post-nav-older" href="{{ page.earlier.permalink }}">
    <span class="post-nav-label">Previous dream</span>
    <span class="post-nav-title">{{ page.earlier.title }}</span>
  </a>
  {% else %}
  <span class="post-nav-link"></span>
  {% endif %}
</nav>
{% endif %}
{% endblock %}
